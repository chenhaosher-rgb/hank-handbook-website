<!-- æœç´¢é¡µ -->
<view class="search-page">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input-group">
      <input 
        class="search-input" 
        placeholder="è¾“å…¥æ‚¨çš„è¿è¥é—®é¢˜..." 
        value="{{keyword}}"
        bindinput="onInputChange"
        bindconfirm="handleSearch"
        focus="{{autoFocus}}"
      />
      <button class="search-btn" bindtap="handleSearch">æœç´¢</button>
    </view>
  </view>

  <!-- çƒ­é—¨æ ‡ç­¾ -->
  <view class="popular-tags" wx:if="{{!hasSearched}}">
    <view class="tags-title">çƒ­é—¨æœç´¢</view>
    <view class="tags-list">
      <view 
        class="tag-item"
        wx:for="{{popularTags}}" 
        wx:key="index"
        bindtap="searchByTag"
        data-tag="{{item}}"
      >
        {{item}}
      </view>
    </view>
  </view>

  <!-- æœç´¢ç»“æœ -->
  <view class="search-results" wx:if="{{hasSearched}}">
    <view class="results-header" wx:if="{{results.length > 0}}">
      æ‰¾åˆ° <text class="highlight">{{results.length}}</text> ä¸ªè§£å†³æ–¹æ¡ˆ
    </view>

    <!-- è§£å†³æ–¹æ¡ˆåˆ—è¡¨ -->
    <view class="solution-list">
      <view 
        class="solution-item"
        wx:for="{{results}}" 
        wx:key="id"
      >
        <view class="solution-header">
          <view class="solution-title">{{item.title}}</view>
          <view class="solution-score">åŒ¹é…åº¦: {{item.score}}%</view>
        </view>
        
        <view class="solution-description">{{item.description}}</view>
        
        <view class="solution-tags">
          <view class="tag" wx:for="{{item.tags}}" wx:for-item="tag" wx:key="*this">
            {{tag}}
          </view>
        </view>

        <!-- èµ„æºåŒ… -->
        <view class="resource-package" wx:if="{{item.resources}}">
          <view class="package-title">ğŸ“¦ ç›¸å…³èµ„æºåŒ…</view>
          <view class="resources-grid">
            <view 
              class="resource-item"
              wx:for="{{item.resources}}" 
              wx:for-item="resource"
              wx:key="id"
            >
              <view class="resource-info">
                <view class="resource-name">{{resource.name}}</view>
                <view class="resource-size">{{resource.size}}</view>
              </view>
              <view class="resource-actions">
                <button 
                  class="action-btn download-btn"
                  bindtap="downloadResource"
                  data-url="{{resource.downloadUrl}}"
                  data-name="{{resource.name}}"
                >
                  ä¸‹è½½
                </button>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty" wx:if="{{results.length === 0}}">
      <view class="empty-icon">ğŸ”</view>
      <view class="empty-text">æœªæ‰¾åˆ°ç›¸å…³å†…å®¹</view>
      <view class="empty-hint">è¯•è¯•å…¶ä»–å…³é”®è¯</view>
    </view>
  </view>
</view>
