<!-- æœç´¢è®°å½•é¡µé¢ -->
<view class="history-page">
  
  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{history.length === 0}}">
    <view class="empty-icon">ğŸ”</view>
    <view class="empty-text">è¿˜æ²¡æœ‰æœç´¢è®°å½•</view>
    <view class="empty-hint">æœç´¢è¿è¥é—®é¢˜ï¼Œè·å–è§£å†³æ–¹æ¡ˆ</view>
    <button class="goto-search-btn" bindtap="gotoSearch">
      <text>å»æœç´¢</text>
    </button>
  </view>

  <!-- æœç´¢è®°å½•åˆ—è¡¨ -->
  <view class="history-container" wx:else>
    <!-- æ“ä½œæ  -->
    <view class="history-header">
      <text class="history-count">å…± {{history.length}} æ¡è®°å½•</text>
      <button class="clear-btn" bindtap="clearHistory">
        <text>ğŸ—‘ï¸ æ¸…ç©ºè®°å½•</text>
      </button>
    </view>

    <!-- è®°å½•åˆ—è¡¨ -->
    <view class="history-list">
      <view 
        class="history-item" 
        wx:for="{{history}}" 
        wx:key="id"
        bindtap="searchAgain"
        data-keyword="{{item.keyword}}"
      >
        <view class="history-main">
          <view class="history-icon">ğŸ”</view>
          <view class="history-info">
            <view class="history-keyword">{{item.keyword}}</view>
            <view class="history-meta">
              <text class="history-time">{{item.searchTime}}</text>
              <text class="history-dot">Â·</text>
              <text class="history-count">{{item.resultCount}} ä¸ªç»“æœ</text>
            </view>
          </view>
        </view>
        <view class="history-actions">
          <button class="action-btn" catchtap="deleteHistory" data-id="{{item.id}}">
            <text>åˆ é™¤</text>
          </button>
        </view>
      </view>
    </view>
  </view>
</view>
